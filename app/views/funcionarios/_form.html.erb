  <!-- Navigation -->
     <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
            <%= link_to "App Funcionários", root_path, class: "navbar-brand text-white" %>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <%= link_to "Home", root_path, class: "nav-link text-white" %>
                    </li>
                    <li class="nav-item">
                        <%= link_to 'Funcionários', funcionarios_path, class:"nav-link text-white" %>
                    </li>
                    <li class="nav-item">
                        <%= link_to "Cargos", cargos_path, class: "nav-link text-white" %>
                    </li>
                    <li class="nav-item">
                        <%= link_to "Dependentes", dependentes_path, class: "nav-link text-white" %>
                    </li>
                    <li class="nav-item">
                        <%= link_to "Responsabilidades", responsabilidades_path, class: "nav-link text-white" %>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="#">Relatórios</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav> 



<%= form_with(model: funcionario, local: true) do |form| %>
  <% if funcionario.errors.any? %>
    <div id="error_explanation">
      
      <div class="alert alert-danger" role="alert">
        <h2>
          <%= pluralize(funcionario.errors.count, "error") %> Funcionário não pôde ser cadastrado por:
        </h2>
      </div>

      <ul>
      <% funcionario.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="form-group col-md-12">

                        <div class="field">
                          <%= form.label :nome %>
                          <%= form.text_field :nome, required: true %>
                        </div>
                        </div>

    <div class="form-group col-md-12">
                        <div class="field">
                          <%= form.label :endereco %>
                          <%= form.text_field :endereco, required: true %>
                        </div>
                        </div>                        

    <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= form.label :telefone %>
                          <%= form.text_field :telefone, required: true  %>
                        </div>
                        </div>

    <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= form.label :documento %>
                          <%= form.number_field :documento, required: true  %>
                        </div>
                        </div>

    <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= form.label :salario %>
                          <%= form.number_field :salario, required: true %>
                        </div>
                        </div>


                        <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= hidden_field_tag "funcionario[dependente_ids][]", "" %>
                          <%= form.label :dependente_id %>
                          
                            <% Dependente.all.each do |dep| %>

                            <%= check_box_tag "funcionario[dependente_ids][]", dep.id, funcionario.dependente_ids.include?(dep.id) %>

                            <span>
                              
                              <%= dep.nome  %>

                            </span> <br>

                            <%end%>

                            <%#= render 'dependentes_form' %>
                        </div>
                        </div>

                        <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= hidden_field_tag "funcionario[responsabilidade_ids][]", "" %>
                          <%= form.label :responsabilidade_id %>
                          
                          <% Responsabilidade.all.each do |responsa| %>

                            <%= check_box_tag "funcionario[responsabilidade_ids][]", responsa.id, responsa.responsabilidade_ids.include?(responsa.id) %>

                            <span>
                              
                              <%= responsa.nome  %>

                            </span> <br>

                            <%end%>
                            
                        </div>
                        </div>

    <div class="form-group col-md-12">                    
                        <div class="field">
                          <%= form.label :cargo_id , required: true %>
                          <%= form.select :cargo_id, Cargo.all.collect { |c| [c.nome, c.id] } , include_blank: true %>
                        </div>
                        </div>



                        <div class="actions">
                          <%= form.submit %>
                        </div>

  </div>

<% end %>